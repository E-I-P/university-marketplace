{% extends "base.html" %}

{% block title %}My Products - Sample School Marketplace{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h2><i class="fas fa-box"></i> My Products</h2>
        <a href="{{ url_for('sell_product') }}" class="btn btn-primary">
            <i class="fas fa-plus"></i> List New Product
        </a>
    </div>
    
    {% if products %}
        <div class="products-grid">
            {% for product in products %}
                <div class="product-card">
                    <div class="product-image">
                        <img src="{{ product.image_url }}" alt="{{ product.title }}" loading="lazy">
                        <div class="product-condition">{{ product.condition }}</div>
                        {% if not product.is_available %}
                            <div class="product-status sold">SOLD</div>
                        {% endif %}
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">{{ product.title }}</h3>
                        <p class="product-description">{{ product.description[:100] }}{% if product.description|length > 100 %}...{% endif %}</p>
                        <div class="product-meta">
                            <span class="product-price">${{ "%.2f"|format(product.price) }}</span>
                            <span class="product-category">{{ product.category }}</span>
                        </div>
                        <div class="product-date">
                            <i class="fas fa-calendar"></i> Listed {{ product.created_at.strftime('%m/%d/%Y') }}
                        </div>
                        <div class="product-actions">
                            <a href="{{ url_for('product_detail', product_id=product.id) }}" class="btn btn-primary btn-sm">
                                <i class="fas fa-eye"></i> View
                            </a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="no-products">
            <i class="fas fa-box-open"></i>
            <h3>No products listed yet</h3>
            <p>Start selling by listing your first product!</p>
            <a href="{{ url_for('sell_product') }}" class="btn btn-primary">
                <i class="fas fa-plus"></i> List Your First Product
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}
